{"applied": [{"type": "offset", "id": "99364851-8efe-41d8-9202-cf9d77ab5ddc", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}, "type": "JsonStage", "name": "init", "scheduler": {"inputs": [], "nodename": null, "parameters": {"evalfolder": "inputs/trained_model.tar.gz", "inputevalfile": "inputs/input_evaluation.yml", "madminerfile": "inputs/madminer_example_with_data_1.h5"}, "discover": true, "relative": true, "scheduler_type": "init-stage"}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval"], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval/workdir"], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "38d6ebf4-0068-4aba-a0de-eab820f660f5", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "type": "JsonStage", "name": "evaluating", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "mkdir /home/data\nmkdir /home/data/test\nmkdir /home/models\nmkdir /home/plots\ntar -zxvf {eval_folder} -C /home/models\npython code/evaluation.py {input_evaluation} /home/models/home/models {madminer_file}\ncp /home/data/test/*_hat*.npy {evalworkdir}\ncp -R /home/plots {evalworkdir}\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "{outputfile}"}}, "environment": {"workdir": null, "imagetag": "latest", "par_mounts": [], "image": "irinahub/docker-madminer-ml", "envscript": "", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "input_evaluation", "value": {"output": "inputevalfile", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "outputfile", "value": "{workdir}/outputfile.txt"}, {"key": "evalworkdir", "value": "{workdir}"}, {"key": "eval_folder", "value": {"output": "evalfolder", "step": "init", "expression_type": "stage-output-selector"}}, {"key": "madminer_file", "value": {"output": "madminerfile", "step": "init", "expression_type": "stage-output-selector"}}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval"], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval/workdir"], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}], "dag": {"nodes": [{"task": {"inputs": [], "parameters": {"evalfolder": "inputs/trained_model.tar.gz", "inputevalfile": "inputs/input_evaluation.yml", "madminerfile": "inputs/madminer_example_with_data_1.h5"}, "state": {"state_type": "localfs", "readwrite": [], "readonly": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval"], "identifier": "init"}, "type": "packtivity_task", "spec": {"process": null, "environment": null, "publisher": {"tryExact": true, "publisher_type": "fromparjq-pub", "glob": true, "relative_paths": true, "script": "."}}, "metadata": {"wflow_hints": {"is_purepub": true}, "name": "init", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "init", "wflow_node_id": "bed648a4-e81b-407d-94e6-b35e3587c10b"}}, "name": "init", "state": "SUCCESS", "proxy": {"proxyname": "ForegroundProxy", "proxydetails": {"success": true, "resultdata": {"evalfolder": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/trained_model.tar.gz", "inputevalfile": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/input_evaluation.yml", "madminerfile": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/madminer_example_with_data_1.h5"}, "labels": {"backend_hints": "is_purepub"}, "datamodel": null}}, "timestamps": {"defined": 1553201542.587359, "ready by": 1553201543.172442, "submit": 1553201542.995531}, "id": "bed648a4-e81b-407d-94e6-b35e3587c10b", "result": {"evalfolder": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/trained_model.tar.gz", "inputevalfile": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/input_evaluation.yml", "madminerfile": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/madminer_example_with_data_1.h5"}}, {"task": {"inputs": [{"stepid": "bed648a4-e81b-407d-94e6-b35e3587c10b", "pointer_path": "/inputevalfile"}, {"stepid": "bed648a4-e81b-407d-94e6-b35e3587c10b", "pointer_path": "/evalfolder"}, {"stepid": "bed648a4-e81b-407d-94e6-b35e3587c10b", "pointer_path": "/madminerfile"}], "parameters": {"input_evaluation": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/input_evaluation.yml", "outputfile": "{workdir}/outputfile.txt", "evalworkdir": "{workdir}", "eval_folder": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/trained_model.tar.gz", "madminer_file": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/inputs/madminer_example_with_data_1.h5"}, "state": {"state_type": "localfs", "readwrite": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval/workdir/evaluating"], "readonly": ["/home/irina/Projects/workflows/workflow-madminer/workflow-eval"], "identifier": "evaluating"}, "type": "packtivity_task", "spec": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "mkdir /home/data\nmkdir /home/data/test\nmkdir /home/models\nmkdir /home/plots\ntar -zxvf {eval_folder} -C /home/models\npython code/evaluation.py {input_evaluation} /home/models/home/models {madminer_file}\ncp /home/data/test/*_hat*.npy {evalworkdir}\ncp -R /home/plots {evalworkdir}\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "{outputfile}"}}, "environment": {"workdir": null, "imagetag": "latest", "par_mounts": [], "image": "irinahub/docker-madminer-ml", "envscript": "", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "metadata": {"wflow_hints": {"is_purepub": false}, "name": "evaluating", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "evaluating", "wflow_node_id": "c0e3712e-7950-4888-95b5-e3d8559a281d"}}, "name": "evaluating", "state": "SUCCESS", "proxy": {"proxyname": "PacktivityProxyBase", "proxydetails": null}, "timestamps": {"defined": 1553201542.780977, "ready by": 1553201547.652451, "submit": 1553201543.172842}, "id": "c0e3712e-7950-4888-95b5-e3d8559a281d", "result": {"outputfile": "/home/irina/Projects/workflows/workflow-madminer/workflow-eval/workdir/evaluating/outputfile.txt"}}], "edges": [["bed648a4-e81b-407d-94e6-b35e3587c10b", "c0e3712e-7950-4888-95b5-e3d8559a281d"]]}, "stepsbystage": {"init": [{"_nodeid": "bed648a4-e81b-407d-94e6-b35e3587c10b"}], "evaluating": [{"_nodeid": "c0e3712e-7950-4888-95b5-e3d8559a281d"}]}, "rules": [], "values": {}, "bookkeeping": {"_meta": {"stages": ["38d6ebf4-0068-4aba-a0de-eab820f660f5", "99364851-8efe-41d8-9202-cf9d77ab5ddc"], "steps": ["bed648a4-e81b-407d-94e6-b35e3587c10b", "c0e3712e-7950-4888-95b5-e3d8559a281d"]}}}